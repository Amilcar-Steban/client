<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.paint.*?>
<?import javafx.scene.shape.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.sockets.ChatController" prefWidth="800" prefHeight="850">
    <stylesheets>
        @styles.css  
    </stylesheets>

    <top>
    <VBox>
        <HBox fx:id="headerBox" styleClass="header-box" spacing="10" alignment="CENTER">
            <Label text="Chat" styleClass="title-label"/>
        </HBox>

        <HBox styleClass="connection-box" spacing="10" alignment="CENTER">
            <TextField fx:id="usernameField" promptText="Tu nombre" styleClass="input-field"/>
            <TextField fx:id="serverAddressField" promptText="DirecciÃ³n del servidor" styleClass="input-field"/>
            <Button fx:id="connectButton" text="Conectar" styleClass="action-button"/>
        </HBox>
    </VBox>
</top>
    
    <center>
        <VBox styleClass="chat-container" VBox.vgrow="ALWAYS">
            <ScrollPane fx:id="messageScrollPane" styleClass="scroll-pane">
                <VBox fx:id="messageContainer" styleClass="message-container"/>
            </ScrollPane>
        </VBox>
    </center>
    <bottom>
        <VBox>
            <HBox styleClass="input-container" spacing="10" alignment="CENTER_LEFT">
                <TextField fx:id="messageField"
                           HBox.hgrow="ALWAYS"
                           promptText="Escribe tu mensajeâ€¦"
                           styleClass="message-input"
                           onAction="#handleSendMessage"/>
                <Button fx:id="sendButton"
                        text="Enviar"
                        styleClass="send-button"
                        onAction="#handleSendMessage"/>
            </HBox>
            <HBox styleClass="status-bar" alignment="CENTER_LEFT" spacing="5">
                <Circle fx:id="connectionStatus" radius="5" fill="red"/>
                <Label fx:id="statusLabel" text="Desconectado" styleClass="status-label"/>
            </HBox>
        </VBox>
    </bottom>
</BorderPane>